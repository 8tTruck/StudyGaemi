![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/9035dd0d-fe5f-495a-9b38-0b2ad55c3d0e)
![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/b16d8daa-f3b9-440f-aa2c-fa4455d1adc9)


## 1. í”„ë¡œì íŠ¸ ì†Œê°œ

---
> ![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/5dde081c-2d60-46d5-8f04-3a2923f0aa13)

> í”„ë¡œì íŠ¸ëª… : ê³µë¶€í•˜ê°œë¯¸

> í”„ë¡œì íŠ¸ ì§„í–‰ ê¸°ê°„: 2024.05.28 - 2024.07.04.

> ê°œë°œì–¸ì–´ : Swift


**ğŸœğŸœğŸœÂ ê³µë¶€í•˜ê°œë¯¸**ëŠ”?

**ê³µë¶€ ì‹œê°„ì„ ê¸°ë¡**í•˜ì—¬ ëª©í‘œ ì„±ì·¨ë¥¼ ë•ê³  **ê¸°ìƒ ì•ŒëŒ** ê¸°ëŠ¥ì„ ë”í•œ **êµìœ¡ ëª©ì ì˜ ìƒì‚°ì„± ì–´í”Œë¦¬ì¼€ì´ì…˜**ì…ë‹ˆë‹¤.

**ì•ŒëŒ**ì„ ë“£ê³  ì¼ì–´ë‚˜ **ê³µë¶€**ë¥¼ ë§ˆì¹˜ëŠ” í•˜ë£¨ì˜ ì‹œì‘ê³¼ ëì„ ì €í¬ **ê³µë¶€í•˜ê°œë¯¸**ì™€ í•¨ê»˜í•˜ì„¸ìš”.

ë§¤ì¼ ê³µë¶€ ì‹œê°„ì„ ìŠ¤ìŠ¤ë¡œ ì¡°ì ˆí•˜ì—¬, ë¶€ë‹´ê°ì—†ì´ ì„±ì·¨ê°ë§Œìœ¼ë¡œ **ì˜¬ë°”ë¥¸ ìŠµê´€**ì„ ìì—°ìŠ¤ëŸ½ê²Œ í˜•ì„±í•´ ë‚˜ê°ˆ ìˆ˜ ìˆì–´ìš”!

## 2. ì£¼ìš” ê¸°ëŠ¥

---

### ğŸ”‘Â  ê³µë¶€í•˜ê°œë¯¸ì— ë¡œê·¸ì¸ í•´ë³´ì„¸ìš”.

|ë¡œê·¸ì¸  |íšŒì›ê°€ì…
|:-:  |:-:
|![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/9137e075-b470-4c66-b60d-1d693271683f)  |![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/f29c1a10-b1c0-4740-8e55-12f2b307b649)

- **ì´ë©”ì¼ ì¸ì¦ íšŒì›ê°€ì…** : íšŒì›ê°€ì… ì ˆì°¨ì— ë”°ë¼ ì…ë ¥í•˜ì‹  ì´ë©”ì¼ë¡œ ì¸ì¦ ë§í¬ë¥¼ ë³´ë‚´ë“œë¦½ë‹ˆë‹¤.
- **ê°„í¸ ë¡œê·¸ì¸(ì• í”Œ, ì¹´ì¹´ì˜¤)** : ì• í”Œ ID, ì¹´ì¹´ì˜¤ IDë¥¼ í†µí•´ ê°„í¸í•˜ê²Œ **ê³µë¶€í•˜ê°œë¯¸**ë¥¼ ì´ìš©í•  ìˆ˜ ìˆì–´ìš”.
- **ìë™ ë¡œê·¸ì¸** : ì–¸ì œë‚˜ ë¹ ë¥´ê²Œ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™ì‹œì¼œë“œë ¤ìš”.
- **IDì°¾ê¸°** : ì´ë©”ì¼ì„ ì…ë ¥í•˜ì‹œë©´ ê¸°ì¡´ íšŒì›ì¸ì§€ ë¹ ë¥´ê²Œ ì¡°íšŒí•´ë“œë ¤ìš”.
- **PWì°¾ê¸°** : ê¸°ì¡´ íšŒì›ì´ì‹œë¼ë©´ í•´ë‹¹ ì´ë©”ì¼ë¡œ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì´ë©”ì¼ì„ ë³´ë‚´ë“œë ¤ìš”.

### **â˜€ï¸Â ê¸°ìƒí•˜ê°œë¯¸ì—ì„œ ì—¬ëŸ¬ë¶„ì˜ ìƒì¾Œí•œ ì•„ì¹¨ì„ ë„ì™€ë“œë ¤ìš”.**

|ì•ŒëŒì‹œê°„  |ì•ŒëŒì„¤ì •  |ë¬¸ì œí™”ë©´
|:-:  |:-:  |:-:
|![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/78667b4e-1815-47b1-936e-c797de1cdeab)  |![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/1e2dae6a-04e2-4b57-9738-36560ad530f4)  |![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/8e80ad81-53d9-4ec4-bd97-cab846e7548e)

- **ì•ŒëŒ ì„¤ì •** : ì•ŒëŒì„ On/Off í•  ìˆ˜ ìˆì–´ìš”.
    - **ì‹œê°„** : ì²« ì•ŒëŒì´ ìš¸ë¦¬ëŠ” ì‹œê°„ì„ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”.
    - **ë¬¸ì œ ë‚œì´ë„** : ì‚¬ì¹™ ì—°ì‚°ì˜ ë‚œì´ë„ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”.
    - **ì•Œë¦¼ìŒ** : ì–´ë–¤ ìŒì•…ì„ ë“¤ìœ¼ë©° ì¼ì–´ë‚ ì§€ ê³ ë¥¼ ìˆ˜ ìˆì–´ìš”.
    - **ë°˜ë³µ** : ëª‡ ë¶„ ê°„ê²©, ëª‡ íšŒ ë°˜ë³µì„ ì„¤ì •í•  ìˆ˜ ìˆì–´ìš”.
- **ê¸°ìƒê°œë¯¸** : ì„¤ì •í•œ ì‹œê°„ì— ì¼ì–´ë‚˜ê³  ë¬¸ì œë¥¼ ë§ì¶œ ê²½ìš° ê·€ì—¬ìš´ ê¸°ìƒê°œë¯¸ë¥¼ íšë“í•  ìˆ˜ ìˆì–´ìš”.

### **â³Â ê³µë¶€í•˜ê°œë¯¸ì—ì„œ ì„±ì·¨ë¥¼ í†µí•´ ìŠµê´€ì„ ê¸¸ëŸ¬ë³´ì•„ìš”.**

|ê³µë¶€íƒ€ì´ë¨¸  |íƒ€ì´ë¨¸ì‹¤í–‰  |ê³µë¶€ê°œë¯¸ íšë“
|:-:  |:-:  |:-:
|![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/c6164c95-2e1f-498c-b5ef-eb937b2764a6)  |![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/5d1d5b92-e890-49aa-a0f3-3813d8a28b4a)  |![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/a4f5bb3e-b9a2-46dd-a9aa-aa9530d4b738)

- **ê³µë¶€ ì‹œê°„** : ì˜¤ëŠ˜ì˜ ëª©í‘œ ì‹œê°„ì„ ììœ ë¡­ê²Œ ì •í•´ë³´ì„¸ìš”.
- **ê³µë¶€ ì‹œì‘** : â€˜ê³µë¶€ ì‹œì‘í•˜ê¸°â€™ë¥¼ ëˆŒëŸ¬ ì˜¤ëŠ˜ì˜ ê³µë¶€ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”.
- **ê³µë¶€ ì¤‘ì§€** : ì ì‹œ íœ´ì‹ì´ í•„ìš”í•  ë•ŒëŠ” ì–¸ì œë“  ë©ˆì¶œ ìˆ˜ ìˆì–´ìš”.
- **ê³µë¶€ ì¢…ë£Œ** : ì˜¤ëŠ˜ì˜ ê³µë¶€ê°€ ëë‚¬ë‹¤ë©´ ê²°ê³¼ ì°½ìœ¼ë¡œ ì´ë™í•´ë³´ì„¸ìš”.
- **ê³µë¶€ ê°œë¯¸** : ê³µë¶€ ì¢…ë£Œ ì‹œì ì—, ëª©í‘œ ì‹œê°„ë³´ë‹¤ ë§ì´ ê³µë¶€í–ˆë‹¤ë©´ ê·€ì—¬ìš´ ê³µë¶€ê°œë¯¸ë¥¼ íšë“í•  ìˆ˜ ìˆì–´ìš”!

 

### ğŸ—“ï¸Â ì›”ê°„ê°œë¯¸ì—ì„œ ë‚˜ì˜ ë…¸ë ¥ì„ í•œ ëˆˆì— ë³¼ ìˆ˜ ìˆì–´ìš”.

|ìº˜ë¦°ë”  |ì™„ë²½ê°œë¯¸ íšë“
|:-:  |:-:
|![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/afa0a6e6-124a-43a4-a84f-c2b7d75ff255)  |![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/6313f2d0-e002-44bc-a916-fbb5ec99c620)

- **ì™„ë²½ê°œë¯¸** : ê¸°ìƒê°œë¯¸ì™€ ê³µë¶€ê°œë¯¸ë¥¼ ëª¨ë‘ íšë“í•œ ë‚ ì€ ì™„ë²½ê°œë¯¸ë¡œ ë³€í•´ìš”.
    - ì™„ë²½ê°œë¯¸ íšë“ : ì™„ë²½ê°œë¯¸ë¥¼ íšë“í•  ê²½ìš° ê·€ì—¬ìš´ ì•Œë¦¼ì°½ì„ ë³´ì—¬ì¤˜ìš”.
    
- **ìº˜ë¦°ë”** : ê¸°ìƒê°œë¯¸ì™€ ê³µë¶€ê°œë¯¸ë¥¼ íšë“í•œ ë‚ ì§œë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.
    - ì´ ë‹¬ì˜ ì™„ë²½ê°œë¯¸ : ìš°ì¸¡ ìƒë‹¨ì—ì„œ ì´ë²ˆ ë‹¬ì— íšë“í•œ ì™„ë²½ê°œë¯¸ ìˆ˜ë¥¼ ë³´ì—¬ì¤˜ìš”.
    - ì§€ë‚œ ê°œë¯¸ : ì¢Œìš°ë¡œ ìŠ¤ì™€ì´í”„í•˜ì—¬ ì´ì „ì— íšë“í•œ ê°œë¯¸ë“¤ë„ ë³¼ ìˆ˜ ìˆì–´ìš”.
- **ì—°ì†ê°œë¯¸** : ìº˜ë¦°ë” í•˜ë‹¨ì—ì„œ ì—°ì†ìœ¼ë¡œ ì„±ê³µì¤‘ì¸ ê°œë¯¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.

### ğŸ‘¤ ê°œMEì—ì„œ ë‚´ ì •ë³´ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆì–´ìš”.

|ê°œME  |ì¹œêµ¬ì´ˆëŒ€  |ë„ì›€ë§
|:-:  |:-:  |:-:
|![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/21c644f9-f33d-4cb1-aa7b-63d63d1bef87)  |![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/ef3d630a-3243-481d-98b9-b4701ce76147)  |![image](https://github.com/8tTruck/StudyGaemi/assets/133753824/83c4bb4c-d47e-40d4-9245-1db39f01ea49)

- **ë‚´ì •ë³´ ìˆ˜ì •** : í”„ë¡œí•„ ì‚¬ì§„ê³¼ ë‹‰ë„¤ì„ì„ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”.
- **ì´ ê³µë¶€ì‹œê°„** : ë‚´ê°€ ê³µë¶€í•œ ì‹œê°„ì„ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.
- **ë¹„ë°€ë²ˆí˜¸ ë³€ê²½** : ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆì–´ìš”.
- **ì¹œêµ¬ì´ˆëŒ€** : ì•± ë§í¬ë¥¼ í†µí•´ ì¹œêµ¬ë¥¼ ì•±ì— ì´ˆëŒ€í•  ìˆ˜ ìˆì–´ìš”.
- **ë„ì›€ë§** : ì•± ì‚¬ìš©ì„¤ëª…ì„œë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”.

- `í‘¸ì‹œ ì•ŒëŒ`
    
    <img src="https://github.com/8tTruck/StudyGaemi/assets/133753824/a2aa0a35-5ae8-491e-98e5-bb797da76508.png" width="200" height="400"/>
    <img src="https://github.com/8tTruck/StudyGaemi/assets/133753824/d07aee04-8155-4d2e-9ebf-46e928bf20d4.png" width="200" height="400"/>

    - **ê¸°ìƒí•˜ê°œë¯¸**ì—ì„œ ì„¤ì •í•œ ì‹œê°„ì— ì•ŒëŒìŒê³¼ í•¨ê»˜ í‘¸ì‹œì•Œë¦¼ì´ ë– ìš”.
    
    - ì•±ì„ ì¢…ë£Œí•˜ë©´ í‘¸ì‹œì•Œë¦¼ì´ ë– ìš”.
- `ë‹¤í¬ ëª¨ë“œ`
    
    <img src="https://github.com/8tTruck/StudyGaemi/assets/133753824/0eca256a-bf97-4453-bea6-f4663cb0d07f.png" width="200" height="400"/>
    <img src="https://github.com/8tTruck/StudyGaemi/assets/133753824/0f15de76-74e2-47b5-9c3d-6ddb455f0101.png" width="200" height="400"/>
    
    - â€˜ë¼ì´íŠ¸ ëª¨ë“œâ€™ì™€ â€˜ë‹¤í¬ ëª¨ë“œâ€™ê°€ ì¡´ì¬í•˜ë©° í•´ë‹¹ ì„¤ì •ì€ ìœ ì €ì˜ ì‹œìŠ¤í…œ ì„¤ì •ì„ ë”°ë¼ ìœ ê¸°ì ìœ¼ë¡œ ì „í™˜ë©ë‹ˆë‹¤.

## 3. ê¸°ìˆ  ìŠ¤íƒ

---

| ë²”ìœ„ | ê¸°ìˆ  ì´ë¦„ |
| --- | --- |
| ì˜ì¡´ì„± ê´€ë¦¬ ë„êµ¬ | SPM |
| í˜‘ì—… ë„êµ¬ | GitHub, Git |
| ì•„í‚¤í…ì²˜ | MVC |
| ë””ìì¸ íŒ¨í„´ | Singleton, Delegate |
| ì¸í„°í˜ì´ìŠ¤ | UIKit, AVFoundation, Then , FSCalendar (iOS 15.0 +) |
| ë ˆì´ì•„ì›ƒ êµ¬ì„± | SnapKit |
| ë‚´ë¶€ ì €ì¥ì†Œ |  UserDefaults, CoreData |
| ì½”ë“œ ìŠ¤íƒ€ì¼ | swiftStyleGuide, SwiftAPI  |
| ì™¸ë¶€ íŒ¨í‚¤ì§€ | Firebase, KakaoOpenSDK |

## 4. ê¸°ìˆ ì  ì˜ì‚¬ê²°ì •

---

### Architecture

**MVC** 

**-** iOS ê°œë°œìì—ê²Œ ê°€ì¥ ì¹œìˆ™í•œ ëª¨ë¸ íŒ¨í„´ìœ¼ë¡œ íŒ€ì›ë“¤ ê°„ ìˆ˜ì›”í•œ ì½”ë“œ ë¦¬ë·° ê°€ëŠ¥

- Controllerì— ë“¤ì–´ê°ˆ ê¸°ëŠ¥ì˜ ìˆ˜ê°€ ì ì„ ê²½ìš°, Viewì™€ Controllerë¥¼ ViewControllerë¡œ í†µí•©í•˜ì—¬ ì‚¬ìš©

### CoreData

CoreDataë¥¼ ì‚¬ìš©í•˜ì—¬, ê¸°ìƒ ì•ŒëŒì‹œê°„ì„ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

- **ğŸ’¡Â CoreData ì‚¬ìš© ì´ìœ **
    - ì•ŒëŒì‹œê°„ì€ ì‚¬ìš©ìë“¤ë¼ë¦¬ ê³µìœ í•´ì•¼í•˜ëŠ” ì‚¬í•­ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì—, ë‚´ë¶€ DBë§Œìœ¼ë¡œ ê¸°ëŠ¥ êµ¬í˜„ì´ ê°€ëŠ¥
    - AlarmCoreDataManager í´ë˜ìŠ¤ ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì´ìš©í•˜ì—¬ Create, Read, Delete ë©”ì†Œë“œ êµ¬í˜„
        - `AlarmCoreDataManager`
            
            ```swift
            class AlarmCoreDataManager {
                static let shared = AlarmCoreDataManager()
                var coreData: AlarmModel?
                private init() {}
                
                // MARK: - ì½”ì–´ë°ì´í„° context
                private let context = (UIApplication.shared.delegate as! AppDelegate).persistentContainer.viewContext
                
                // MARK: - ì•ŒëŒ ì €ì¥ ë©”ì†Œë“œ
                func saveAlarm(alarm: AlarmModel) {
                    let fetchRequest: NSFetchRequest<Alarm> = Alarm.fetchRequest()
                    
                    do {
                        let alarms = try context.fetch(fetchRequest)
                        
                        for alarm in alarms {
                            context.delete(alarm)
                        }
                        
                        let newAlarm = Alarm(context: context)
                        newAlarm.time = alarm.time
                        newAlarm.difficulty = alarm.difficulty
                        newAlarm.sound = alarm.sound
                        newAlarm.repeatEnabled = alarm.repeatEnabled ?? false
                        newAlarm.repeatInterval = alarm.repeatInterval
                        newAlarm.repeatCount = alarm.repeatCount
                        
                        try context.save()
                        
                        self.fetchAlarm()
                    } catch {
                        print("ì•ŒëŒ ì €ì¥ ì‹¤íŒ¨ ì—ëŸ¬: \(error)")
                    }
                }
                
                // MARK: - ì•ŒëŒ ë¶ˆëŸ¬ì˜¤ê¸° ë©”ì†Œë“œ
                func fetchAlarm() {
                    let fetchRequest: NSFetchRequest<Alarm> = Alarm.fetchRequest()
                    
                    do {
                        let alarms = try context.fetch(fetchRequest)
                        
                        if let alarm = alarms.first {
                            self.coreData = AlarmModel(
                                time: alarm.time ?? Date(),
                                difficulty: alarm.difficulty ?? "",
                                sound: alarm.sound ?? "",
                                repeatEnabled: alarm.repeatEnabled,
                                repeatInterval: alarm.repeatInterval,
                                repeatCount: alarm.repeatCount
                            )
                        }
                    } catch {
                        print("ì•ŒëŒ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨ ì—ëŸ¬: \(error)")
                    }
                }
                
                // MARK: - ì•ŒëŒ ì‚­ì œ ë©”ì†Œë“œ
                func deleteAlarm() {
                    let fetchRequest: NSFetchRequest<Alarm> = Alarm.fetchRequest()
                    
                    do {
                        let alarms = try context.fetch(fetchRequest)
                        
                        AlarmSettingController.shared.removeScheduleAlarm {
                            UserDefaults.standard.removeObject(forKey: "toggleButtonState")
                            
                            for alarm in alarms {
                                self.context.delete(alarm)
                            }
                            
                            do {
                                try self.context.save()
                                print("ì•ŒëŒì´ ì„±ê³µì ìœ¼ë¡œ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")
                            } catch {
                                print("ì•ŒëŒ ì‚­ì œ í›„ ì €ì¥ ì‹¤íŒ¨: \(error)")
                            }
                        }
                    } catch {
                        print("ì•ŒëŒ ì‚­ì œ ì‹¤íŒ¨ ì—ëŸ¬: \(error)")
                    }
                }
                
                // MARK: - ì•ŒëŒ ë°ì´í„° ë°˜í™˜ ë©”ì†Œë“œ
                func getAlarmData() -> AlarmModel {
                    self.fetchAlarm()
                    guard let alarmData = self.coreData else {
                        return AlarmModel(time: Date(), difficulty: "ì¤‘", sound: "ì•Œë¦¼ìŒ 1")
                    }
                    return alarmData
                }
            }
            
            ```
            
- CoreData ì„¤ê³„ë„
    - Alarm ë°ì´í„° ëª¨ë¸
        
        
        | Attribute | Type |  |
        | --- | --- | --- |
        | time | Date | ì•ŒëŒ ì‹œê°„ |
        | sound | String | ì•ŒëŒ ì†Œë¦¬ |
        | difficulty | String | ì•ŒëŒ ë¬¸ì œ ë‚œì´ë„ |
        | repeatEnabled | Boolean | ë°˜ë³µ ì„¤ì • |
        | repeatInterval | String | ë°˜ë³µ ê°„ê²© ex) 5ë¶„ ë§ˆë‹¤ |
        | repeatCount | String | ë°˜ë³µ íšŸìˆ˜ ex) 3íšŒ ë°˜ë³µ |

### FireBase

FireBaseë¥¼ ì‚¬ìš©í•˜ì—¬, ì‚¬ìš©ìë³„ë¡œ ë°ì´í„°ë¥¼ ë„˜ê²¨ë°›ì•„ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤.

- **ğŸ’¡**Â FireBase **ì‚¬ìš© ì´ìœ **
    - **Authentication ê¸°ëŠ¥ ì‚¬ìš©**
        - ì†Œì…œë¡œê·¸ì¸ê³¼ ìì²´ íšŒì›ê°€ì… ë¡œê·¸ì¸ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©
        - AuthenticationManager í´ë˜ìŠ¤ ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì´ìš©í•´ íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ, íšŒì›íƒˆí‡´ ë©”ì†Œë“œë¥¼ êµ¬í˜„
            - `AuthenticationManager`
                
                ```swift
                class AuthenticationManager {
                    
                    static let shared = AuthenticationManager()
                    
                    private init() { }
                    
                    private let db = Firestore.firestore()
                    
                    // MARK: - íšŒì›ê°€ì…
                    func createUser(email: String, password: String) {
                        Auth.auth().createUser(withEmail: email, password: password) { authResult, error in
                            if let error = error {
                                // íšŒì›ê°€ì… ì‹¤íŒ¨ ì²˜ë¦¬
                                print("íšŒì›ê°€ì… ì‹¤íŒ¨ ì—ëŸ¬: \(error.localizedDescription)")
                                return
                            }
                            // ë¡œê·¸ì¸
                            Auth.auth().signIn(withEmail: email, password: password) { (authResult, error) in
                                if let error = error {
                                    print("ë¡œê·¸ì¸ ì‹¤íŒ¨ ì—ëŸ¬: \(error.localizedDescription)")
                                } else if let user = authResult?.user {
                                    print("ë¡œê·¸ì¸ ì„±ê³µ: \(user.email ?? "")")
                                    FirestoreManager.shared.createUserData(email: email, nickName: email, loginMethod: "Firebase")
                                }
                            }
                            
                            // ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ ì „ì†¡
                            self.sendEmail(authResult: authResult)
                        }
                    }
                    
                    // MARK: - ë¡œê·¸ì¸
                    func signIn(email: String, password: String) {
                        Auth.auth().signIn(withEmail: email, password: password) { (authResult, error) in
                            if let error = error {
                                print("ë¡œê·¸ì¸ ì‹¤íŒ¨ ì—ëŸ¬: \(error.localizedDescription)")
                            } else if let user = authResult?.user {
                                self.checkEmailVerifiedForLogin { isEmailVerified in
                                    if isEmailVerified {
                                        print("ë¡œê·¸ì¸ ì„±ê³µ: \(user.email ?? "")")
                                        // ì¸ì¦ì´ ì™„ë£Œëœ ì‚¬ìš©ìë¥¼ ìœ„í•œ ì¶”ê°€ ë¡œì§
                                    } else {
                                        print("ì´ë©”ì¼ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤. ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.")
                                        // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
                                        do {
                                            try Auth.auth().signOut()
                                        } catch let signOutError as NSError {
                                            print("Error signing out: \(signOutError.localizedDescription)")
                                        }
                                    }
                                }
                            }
                        }
                    }
                    
                    ...
                }
                ```
                
    - **Cloud Firestore ê¸°ëŠ¥ ì‚¬ìš©**
        - ì‚¬ìš©ì ë³„ë¡œ ê¸°ìƒì„±ê³µ, ê³µë¶€ì„±ê³µì˜ ë°ì´í„° ê°’ì„ ê´€ë¦¬í•˜ê¸° ì‰½ë„ë¡ ì‚¬ìš©
        - ì¶”í›„ì— êµ¬í˜„í•  ì €ì¥ëœ ê³µë¶€ì‹œê°„ì„ ì›”ë³„ ë­í‚¹ì„ ë³´ì—¬ì£¼ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©
        - FirestoreManager í´ë˜ìŠ¤ ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì´ìš©í•´ ë°ì´í„° CRUD ë©”ì†Œë“œë¥¼ êµ¬í˜„
        - `FirestoreManager`
            
            ```swift
            final class FirestoreManager {
                static let shared = FirestoreManager()
                
                private init() { }
                
                private let db = Firestore.firestore()
                
                // ì™¸ë¶€ì—ì„œ Firestore ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ë©”ì„œë“œ ì¶”ê°€
                    func getDatabase() -> Firestore {
                        return db
                    }
                
                // MARK: - User ë°ì´í„° ìƒì„±í•˜ê¸°
                func createUserData(email: String, nickName: String, loginMethod: String) {
                    if let UID = Auth.auth().currentUser?.uid {
                        let user = UserModel(
                            UID: UID,
                            email: email,
                            nickName: nickName,
                            loginMethod: loginMethod
                        )
                        
                        do {
                            try db.collection("User").document(UID).setData(from: user, merge: true)
                        } catch let error {
                            print("Firestore ë°ì´í„° ìƒì„± ì—ëŸ¬: \(error)")
                        }
                    }
                }
                
                // MARK: - WakeUp ë°ì´í„° ìƒì„±í•˜ê¸°
                func createWakeUpData(success: Bool) {
                    if let UID = Auth.auth().currentUser?.uid {
                        let userRef = db.collection("User").document(UID)
                        let wakeUp = WakeUpModel(
                            userRef: userRef,
                            success: success,
                            date: Timestamp(date: Date())
                        )
                        
                        do {
                            try db.collection("WakeUp").addDocument(from: wakeUp)
                        } catch let error {
                            print("Firestore ë°ì´í„° ìƒì„± ì—ëŸ¬: \(error)")
                        }
                    }
                }
                
                // MARK: - Study ë°ì´í„° ìƒì„±í•˜ê¸°
                func createStudyData(success: Bool, during: Int) {
                    if let UID = Auth.auth().currentUser?.uid {
                        let userRef = db.collection("User").document(UID)
                        let study = StudyModel(
                            userRef: userRef,
                            success: success,
                            date: Timestamp(date: Date()),
                            during: during
                        )
                        
                        do {
                            try db.collection("Study").addDocument(from: study)
                        } catch let error {
                            print("Firestore ë°ì´í„° ìƒì„± ì—ëŸ¬: \(error)")
                        }
                    }
                }
                
                ...
            }
            ```
            
- Firestore Database ì„¤ê³„
    - User ë°ì´í„°ë² ì´ìŠ¤
        
        
        | ë³€ìˆ˜ëª… | íƒ€ì… |  |
        | --- | --- | --- |
        | UID | String | Primary Key |
        | email | String |  |
        | loginMethod | String |  |
        | nickName | String |  |
    - WakeUp ë°ì´í„°ë² ì´ìŠ¤
        
        
        | ë³€ìˆ˜ëª… | íƒ€ì… |  |
        | --- | --- | --- |
        | userRef | String | Foreign Key |
        | date | Timestamp | ìì • ê¸°ì¤€ìœ¼ë¡œ |
        | success | Bool |  |
    - Study ë°ì´í„°ë² ì´ìŠ¤
        
        
        | ë³€ìˆ˜ëª… | íƒ€ì… |  |
        | --- | --- | --- |
        | userRef | String | Foreign Key |
        | date | Timestamp | ìƒˆë²½ 5ì‹œ ê¸°ì¤€ìœ¼ë¡œ |
        | success | Bool |  |
        | during | number |  |
    - Alert ë°ì´í„°ë² ì´ìŠ¤
        
        
        | ë³€ìˆ˜ëª… | íƒ€ì… |  |
        | --- | --- | --- |
        | userRef | String | Foreign Key |
        | date | Timestamp | ìì • ê¸°ì¤€ìœ¼ë¡œ |
        | state | number |  |

### UserDefaults

UserDefaultsë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œí•„ ì‚¬ì§„ì˜ ê²½ë¡œë¥¼ ì €ì¥í•©ë‹ˆë‹¤.

- CoreData ëŒ€ì‹  UserDefaultsë¥¼ ì‚¬ìš©í•œ ì´ìœ 
    - UserDefaultsëŠ” ê°„ë‹¨í•œ í‚¤-ê°’ ì €ì¥ì†Œë¡œ ë¹ ë¥´ê³  ì‰½ê²Œ ì†Œê·œëª¨ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ì ‘ê·¼í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. ë°˜ë©´, Core DataëŠ” ë” ë³µì¡í•œ ë°ì´í„° êµ¬ì¡°ì™€ ê´€ê³„í˜• ë°ì´í„°ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ ê²ƒìœ¼ë¡œ, ê°„ë‹¨í•œ ë°ì´í„° ì €ì¥ì— ë¹„í•´ ê³¼í•œ ì„ íƒì…ë‹ˆë‹¤.
- UserDefaults Databaseì„¤ê³„
    - **Key**: `profileImagePath`
    - **Value**: í”„ë¡œí•„ ì´ë¯¸ì§€ê°€ ì €ì¥ëœ íŒŒì¼ì˜ ê²½ë¡œë¥¼ ë¬¸ìì—´ë¡œ ì €ì¥í•©ë‹ˆë‹¤.

### SnapKit & Then

- **ğŸ’¡Â SnapKit ì‚¬ìš© ì´ìœ **
    - AutoLayout ì½”ë“œ ì‘ì„±ì„ ê°„ê²°í•˜ê²Œ í•˜ê³ , ì½”ë“œ ê°€ë…ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
        - `SnapKit` ì‚¬ìš© ì˜ˆì‹œ
            
            ```swift
                override func constraintLayout() {
                    imageView.snp.makeConstraints { make in
                        make.width.height.equalTo(22)
                    }
                    
                    alarmView.snp.makeConstraints { make in
                        make.top.equalTo(view.safeAreaLayoutGuide.snp.top).offset(34)
                        make.centerX.equalToSuperview()
                        make.leading.trailing.equalTo(view.safeAreaLayoutGuide).inset(24)
                        make.height.equalTo(66)
                    }
                    
                    notificationStackView.snp.makeConstraints { make in
                        make.top.equalTo(alarmView.snp.top).inset(14)
                        make.bottom.equalTo(alarmView.snp.bottom).inset(14)
                        make.leading.equalTo(alarmView.snp.leading).inset(18)
                        make.trailing.equalTo(alarmView.snp.trailing).inset(18)
                    }
                    
                    notificationImageView.snp.makeConstraints { make in
                        make.width.equalTo(38)
                        make.height.equalTo(38)
                    }
                    
                    alarmButton.snp.makeConstraints { make in
                        make.centerY.equalToSuperview()
                        make.centerX.equalToSuperview()
                        make.width.equalTo(312)
                        make.height.equalTo(312)
                    }
                    
                    stackView.snp.makeConstraints { make in
                        make.bottom.equalTo(view.safeAreaLayoutGuide.snp.bottom).inset(45)
                        make.centerX.equalToSuperview()
                        make.leading.trailing.equalTo(view.safeAreaLayoutGuide).inset(24)
                        make.height.equalTo(52)
                    }
                }
            ```
            
- **ğŸ’¡Â Then ì‚¬ìš© ì´ìœ **
    - ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™” ì‹œ í´ë¡œì €ë³´ë‹¤ ê°€ë…ì„±ì„ ì¢‹ê²Œ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
        - `Then` ì‚¬ìš© ì˜ˆì‹œ
            
            ```swift
                private let imageView = UIImageView().then {
                    $0.image = UIImage(named: "mainAnt")
                    $0.contentMode = .scaleAspectFit
                }
                
                private let alarmView = UIView().then {
                    $0.backgroundColor = UIColor(named: "alertBackgroundColor")
                    $0.layer.cornerRadius = 23
                    $0.layer.shadowColor = UIColor(named: "pointBlack")?.cgColor
                    $0.layer.shadowOffset = CGSize(width: 0.0, height: 0.0)
                    $0.layer.shadowRadius = 5.0
                    $0.layer.shadowOpacity = 0.15
                }
                
                private let notificationStackView = UIStackView().then {
                    $0.axis = .horizontal
                    $0.spacing = 10
                }
                
                private let notificationImageView = UIImageView().then {
                    $0.image = UIImage(named: "sleepAnt")
                    $0.contentMode = .scaleAspectFit
                    $0.setContentHuggingPriority(.defaultHigh, for: .horizontal)
                    $0.setContentCompressionResistancePriority(.defaultHigh, for: .horizontal)
                }
                
                private let verticalStackView = UIStackView().then {
                    $0.axis = .vertical
                    $0.setContentHuggingPriority(.defaultLow, for: .horizontal)
                }
                
                private let horizontalStackView = UIStackView().then {
                    $0.axis = .horizontal
                    $0.distribution = .equalCentering
                }
            ```
            

### FSCalendar

- **ğŸ’¡Â FSCalendar ì‚¬ìš©ì´ìœ **
    - CalendarViewëŠ” iOS 16ì´ìƒì—ì„œ ì‚¬ìš©ê°€ëŠ¥í•œë° í”„ë¡œì íŠ¸ì˜ ìµœì†Œ ì§€ì› ë²„ì „ì€ iOS15ì´ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì´ ë¶ˆê°€í•¨
    - FSCalendarëŠ” ì»¤ìŠ¤í…€ ì˜µì…˜ì´ í’ë¶€í•˜ê³  ì‚¬ìš©ì´ ë¹„êµì  ì‰¬ì›€
        - `ì˜ˆì‹œì½”ë“œ`
            
            ```swift
             private lazy var calendarView = FSCalendar().then {
                    $0.dataSource = self
                    $0.delegate = self
                    
                    //ì…€ë“±ë¡
                    $0.register(CalendarCell.self, forCellReuseIdentifier: "CalendarCell")
                    
                    // ì²« ì—´ì„ ì›”ìš”ì¼ë¡œ ì„¤ì •
                    $0.firstWeekday = 2
                    $0.scope = .month
                    
                    $0.scrollDirection = .horizontal
                    $0.locale = Locale(identifier: "ko_KR")
                    
                    // í˜„ì¬ ë‹¬ì˜ ë‚ ì§œë“¤ë§Œ í‘œê¸°í•˜ë„ë¡ ì„¤ì •
                    $0.placeholderType = .none
                    
                    // ì–‘ì˜† ë…„ë„, ì›” ì§€ìš°ê¸°
                    $0.appearance.headerMinimumDissolvedAlpha = 0.0
                    
                    // í—¤ë”ë·° ì„¤ì •
                    $0.headerHeight = 50
                    $0.appearance.headerDateFormat = "MMì›”"
                    $0.appearance.headerTitleColor = .black
                    $0.appearance.headerTitleAlignment = .left
                    $0.appearance.headerMinimumDissolvedAlpha = 0.0
                    
                    // ìš”ì¼ UI ì„¤ì •
                    $0.weekdayHeight = 16
                    $0.appearance.weekdayFont = UIFont(name: CustomFontType.regular.name, size: 14) ?? UIFont.systemFont(ofSize: 14, weight: .bold)
                    $0.appearance.weekdayTextColor = .fontGray
                    
                    // ë‚ ì§œ UI ì„¤ì •
                    $0.appearance.titleTodayColor = .black
                    $0.appearance.titleFont = UIFont(name: CustomFontType.regular.name, size: 16) ?? UIFont.systemFont(ofSize: 16, weight: .bold)
                    
                    //ë‚ ì§œ ì„ íƒì‹œ
                    $0.today = nil
                    $0.appearance.selectionColor = .clear // ì‚¬ìš©ìê°€ ì„ íƒí•œ ë‚ ì§œ
                    $0.appearance.titleSelectionColor = .fontBlack // ì„ íƒí•œ ë‚ ì§œ ê¸€ììƒ‰
                    $0.allowsSelection = false
                    
                }
            ```
            

## 5. íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

---

### ì¤‘ë³µ ì½”ë“œ ìµœì†Œí™”

> BaseViewController, CustomView, ì‹±ê¸€í†¤ íŒ¨í„´ì„ í™œìš©í•˜ì—¬ **ì¤‘ë³µ ì½”ë“œë¥¼ ìµœì†Œí™”** í•˜ë ¤ ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.
> 
- **ğŸ’¡Â BaseViewController**
    - ëª¨ë“  ë·°ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë©”ì†Œë“œë¥¼ ì¶”ê°€
    - `configureUI()`, `constraintLayout()`, `hideKeyboardWhenTappedAround()`, `â€¦`
        
        ```swift
        class BaseViewController: UIViewController {
        
            override func viewDidLoad() {
                super.viewDidLoad()
                self.configureUI()
                self.constraintLayout()
                self.hideKeyboardWhenTappedAround()
            }
            
            func configureUI() {
                view.backgroundColor = UIColor(named: "viewBackgroundColor")
                // UIButtonì´ë‚˜ UILabel ë“±ê³¼ ê°™ì€ ë¶€ë¶„ ì´ˆê¸° ì„¤ì • í•¨ìˆ˜
            }
            
            func constraintLayout() {
                // UIButtonì´ë‚˜ UILabel ë“±ê³¼ ê°™ì€ ë¶€ë¶„ ì œì•½ì¡°ê±´ ì„¤ì • í•¨ìˆ˜
            }
        
        }
        
        // ë¹ˆ í™”ë©´ í„°ì¹˜ ì‹œ í‚¤ë³´ë“œ ë‚´ë ¤ê°€ëŠ” ê¸°ëŠ¥ ì¶”ê°€
        extension BaseViewController {
            func hideKeyboardWhenTappedAround() {
                let tap = UITapGestureRecognizer(target: self, action: #selector(BaseViewController.dismissKeyboard))
                tap.cancelsTouchesInView = false
                view.addGestureRecognizer(tap)
            }
            
            @objc func dismissKeyboard() {
                view.endEditing(true)
            }
        }
        
        extension UIButton {
            
            func addTouchAnimation() {
                self.addTarget(self, action: #selector(buttonTouchDown), for: .touchDown)
                self.addTarget(self, action: #selector(buttonTouchUp), for: [.touchUpInside, .touchUpOutside, .touchCancel])
            }
            
            @objc private func buttonTouchDown(sender: UIButton) {
                UIView.animate(withDuration: 0.1) {
                    sender.transform = CGAffineTransform(scaleX: 1.01, y: 1.01)
                }
                sender.isHighlighted = false
            }
            
            @objc private func buttonTouchUp(sender: UIButton) {
                UIView.animate(withDuration: 0.1) {
                    sender.transform = .identity
                }
                sender.isHighlighted = false
            }
        }
        
        extension UITextField {
            func shake() {
                let animation = CAKeyframeAnimation(keyPath: "position")
                animation.duration = 0.05
                animation.values = [
                    NSValue(cgPoint: CGPoint(x: self.center.x - 2, y: self.center.y)),
                    NSValue(cgPoint: CGPoint(x: self.center.x + 2, y: self.center.y))
                ]
                animation.autoreverses = true
                animation.repeatCount = 8
                self.layer.add(animation, forKey: "shake")
            }
            
        }
        ```
        
- **ğŸ’¡Â CustomView**
    - ìì£¼ ì‚¬ìš©ë˜ëŠ” Viewë“¤ì„ ë¯¸ë¦¬ ì œì‘í•´ë†“ê³ , ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹
    - `CustomButton`
        
        ```swift
        class CustomButton: UIButton {
        
            let gradient = CAGradientLayer().then {
                $0.colors = [UIColor(named: "pointOrange")?.cgColor ?? UIColor.orange.cgColor,
                             UIColor(named: "pointYellow")?.cgColor ?? UIColor.yellow.cgColor]
                $0.startPoint = CGPoint(x: 0.0, y: 0.5)
                $0.endPoint = CGPoint(x: 1.0, y: 0.5)
            }
        
            init(x: Int = 0, y: Int = 0, width: Int = 334, height: Int = 52, radius: CGFloat = 10, title: String = "ì €ì¥") {
                super.init(frame: CGRect(x: x, y: y, width: width, height: height))
                
                self.layer.addSublayer(gradient)
                self.layer.cornerRadius = radius
                self.clipsToBounds = true
                self.setTitle(title, for: .normal)
                self.titleLabel?.font = UIFont(name: CustomFontType.regular.name, size: 20) ?? UIFont.systemFont(ofSize: 20)
                self.setTitleColor(.white, for: .normal)
            }
            
            required init?(coder: NSCoder) {
                fatalError("init(coder:) has not been implemented")
            }
            
            override func layoutSubviews() {
                super.layoutSubviews()
                gradient.frame = self.bounds
            }
            
            func setFontColor(_ color: UIColor?, for uiColor: UIControl.State) {
                self.setTitleColor(color, for: uiColor)
            }
            
            func setBackgroundColor(_ color: UIColor?) {
                gradient.removeFromSuperlayer()
                self.backgroundColor = color
            }
            
            func setFontSize(name: String,_ size: CGFloat) {
                self.titleLabel?.font = UIFont(name: name, size: size)
            }
        }
        ```
        
    - `CustomTextField`
        
        ```swift
        class CustomTextField: UITextField {
        
            init(x: Int = 0, y: Int = 0, width: Int = 342, height: Int = 52, text: String = "ì •ë‹µì„ ì ì–´ë³´ê°œë¯¸") {
                super.init(frame: CGRect(x: x, y: y, width: width, height: height))
                
                self.placeholder = text
                self.tintColor = UIColor.systemBackground
                self.textColor = UIColor(named: "fontGray") ?? UIColor.gray
                self.layer.borderColor = UIColor(named: "textFieldColor")?.cgColor ?? UIColor.gray.cgColor
                self.layer.borderWidth = 1.5
                self.layer.cornerRadius = 10
                
                let paddingView = UIView(frame: CGRect(x: 0, y: 0, width: 15, height: frame.height))
                self.leftView = paddingView
                self.leftViewMode = ViewMode.always
                self.rightView = paddingView
                self.rightViewMode = ViewMode.always
                
            }
            
            required init?(coder: NSCoder) {
                fatalError("init(coder:) has not been implemented")
            }
            
        }
        
        ```
        
- **ğŸ’¡Â ì‹±ê¸€í†¤ íŒ¨í„´**
    - ìì£¼ ì‚¬ìš©ë˜ëŠ” ë©”ì†Œë“œë¥¼ ì‹±ê¸€í†¤ íŒ¨í„´ì„ ì´ìš©í•´, ë§¤ë²ˆ í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
    - `AlarmCoreDataManager`, `AuthenticationManager`, `FirestoreManager`
        
        ```swift
        AlarmCoreDataManager.shared.fetchAlarm()
        AuthenticationManager.shared.createUser()
        FirestoreManager.shared.createWakeUpData()
        ```
        

### í”„ë¡œì íŠ¸ ê°œë°œ ì¤‘ ì´ìŠˆ

- Firebase ë°ì´í„°ë² ì´ìŠ¤ ê³„ì •ìƒì„± ìˆ˜ì •
    - ***ë¬¸ì œì ***
        - ê¸°ì¡´ì—ëŠ”  User ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ì‹œ UID ëŒ€ì‹ ì— emailë¡œ ìƒì„±ì´ ë˜ë„ë¡ í–ˆëŠ”ë°, appleIDë¡œ ë¡œê·¸ì¸ ì‹œ ì´ë©”ì¼ ìˆ¨ê¸°ê¸° ê¸°ëŠ¥ì„ í™œì„±í™” ì‹œí‚¤ë©´ emailê°’ì„ ë„£ì„ ìˆ˜ ì—†ëŠ” í˜„ìƒì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
    - ***í•´ê²°ë°©ì•ˆ***
        - ê³„ì • ìƒì„±ì‹œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” UIDê°’ì„ email ëŒ€ì‹ ì— ë„£ëŠ”ê²ƒìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.
    - ***ê²°ê³¼***
        - ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±ì„ UIDë¡œ ë°”ê¾¸ë©´ì„œ User, WakeUp, Study ë°ì´í„°ë² ì´ìŠ¤ CRUD ë¶€ë¶„ì„ ì „ë¶€ ìˆ˜ì •
        - appleID ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ë¥¸ ì†Œì…œë¡œê·¸ì¸ì„ ì¶”ê°€í•  ë•Œ, ì†ì‰½ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìƒê¹€
        - ì¶”í›„ì— ì´ë©”ì¼ì„ ë³€ê²½í•˜ëŠ” ì¼ì´ ìƒê¸°ë”ë¼ë„ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ìë¥¼ ì‹ë³„í•˜ëŠ” ë° ë¬¸ì œê°€ ìƒê¸°ì§€ ì•ŠìŒ
        
- window.rootViewController ì „í™˜ ì‹œ ë©ˆì¶”ëŠ” í˜„ìƒ(RepeatingSecondsTimer)
    - ***ë¬¸ì œì ***
        - íŒ€ì›ë“¤ì´ ê°œë°œ ìˆ˜ì •ëœ ë¶€ë¶„ë“¤ì„ ë¨¸ì§€í•œ í›„ ë‹¨ì²´ë¡œ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•˜ëŠ” ê³¼ì •ì—ì„œ, ë¡œê·¸ì•„ì›ƒ, íšŒì›ê°€ì…, ì•ŒëŒ ê¸°ëŠ¥ìœ¼ë¡œ ì´ë™í•  ë•Œ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤
            
            ```swift
            Thread 1: EXC_BREAKPOINT (code=1, subcode=0x10444adf4)
            ```
            
        - ì´ ì˜¤ë¥˜ëŠ” ì£¼ë¡œ ë©”ëª¨ë¦¬ ê´€ë¦¬ê°€ ì˜ëª»ë˜ì—ˆì„ ë•Œ ë‚˜íƒ€ë‚˜ëŠ” ì—ëŸ¬ì˜€ìŠµë‹ˆë‹¤.
        - ë¨¸ì§€ ì´í›„ì— ë°œìƒí•œ ë¬¸ì œì˜€ê¸° ë•Œë¬¸ì—, ë¨¸ì§€í•˜ê¸° ì „ ìˆ˜ì •ëœ ì½”ë“œë¥¼ ê²€í† í•˜ë©° ë¬¸ì œê°€ ë  ë§Œí•œ ë¶€ë¶„ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤.
    - ***í•´ê²°ë°©ì•ˆ***
        - ë¬¸ì œì˜ ì›ì¸ì€Â `RepeatingSecondsTimer.swift`Â íŒŒì¼ì—ì„œ Timerê°€ ë©”ëª¨ë¦¬ì— í• ë‹¹ë˜ì–´ ìˆì§€ ì•Šì€ ìƒíƒœì—ì„œÂ `window.rootViewController`ë¥¼ ì „í™˜í•˜ë ¤ê³  ì‹œë„í–ˆê¸° ë•Œë¬¸ì´ì—ˆìŠµë‹ˆë‹¤. Timerê°€ ë©”ëª¨ë¦¬ì— ì—†ëŠ”ë°ë„ deinitì—ì„œ Timerë¥¼ ì œê±°í•˜ë ¤ê³  í•´ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.
        - Timerë¥¼ ì‹¤í–‰ì‹œí‚¤ì§€ ì•Šë”ë¼ë„, ì•±ì´ ì‹¤í–‰ë  ë•Œ ë©”ëª¨ë¦¬ì— Timerë¥¼ í• ë‹¹í•˜ë„ë¡ ìˆ˜ì •í•˜ë©´ í•´ê²°ë  ê²ƒì´ë¼ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤.
    - ***ê²°ê³¼***
        
        ê°ì²´ ìƒì„± ì‹œ í˜¸ì¶œë˜ëŠ” init ë¶€ë¶„ì„ ì¶”ê°€í•˜ì—¬ Timer ì´ˆê¸°í™” ì‘ì—…ì„ ìˆ˜í–‰í–ˆìŠµë‹ˆë‹¤.
        
        ```swift
        init() {
                start(durationSeconds: 0)
        }
        ```
        
    
- ì•± ì‚­ì œ í›„ ì‹¤í–‰ ì‹œ ì¹´ì¹´ì˜¤ ë¡œê·¸ì•„ì›ƒ ë° íšŒì›íƒˆí‡´ê°€ ì•ˆë˜ëŠ” í˜„ìƒ
    - ***ë¬¸ì œì ***
        - ì•±ì„ ì‚­ì œ í›„ ì¬ì„¤ì¹˜í•œ í›„, ì¹´ì¹´ì˜¤ ë¡œê·¸ì•„ì›ƒì´ë‚˜ íšŒì›íƒˆí‡´ë¥¼ ì‹œë„í•  ë•Œ ì•±ì´ ë©ˆì¶”ëŠ” í˜„ìƒì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì›ì¸ì„ ì¡°ì‚¬í•œ ê²°ê³¼, ì´ëŠ” Firebaseì™€ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì˜ í† í° ê´€ë¦¬ ë°©ì‹ì˜ ì°¨ì´ì—ì„œ ë°œìƒí•œ ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.
            - **Firebase ë¡œê·¸ì¸:** ë¡œê·¸ì¸ í† í°ì´ Firebase ì„œë²„ì— ì €ì¥ë©ë‹ˆë‹¤.
            - **ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸:** ë¡œê·¸ì¸ í† í°ì´ ì–´í”Œ ë‚´ì— ìƒì„±ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.
        - ë”°ë¼ì„œ, ì•±ì„ ì‚­ì œí•˜ë©´ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í† í°ì€ ì‚¬ë¼ì ¸ ë¡œê·¸ì•„ì›ƒ ìƒíƒœê°€ ë˜ì§€ë§Œ, Firebaseì˜ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í† í°ì€ ì—¬ì „íˆ ì„œë²„ì— ë‚¨ì•„ ìˆì–´ ì¼ê´€ë˜ì§€ ì•Šì€ ìƒíƒœê°€ ë©ë‹ˆë‹¤.
    - ***í•´ê²°ë°©ì•ˆ***
        - ì•±ì„ ì‚­ì œí•˜ë©´ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í† í°ì´ ì‚¬ë¼ì§€ë¯€ë¡œ, Firebaseì—ì„œë„ ë™ì¼í•œ ì¡°ê±´ì´ ë˜ë„ë¡ ì„¤ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
        - Firebaseì— ë¡œê·¸ì¸ë˜ì–´ ìˆì§€ë§Œ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í† í°ì´ ì—†ëŠ” ê²½ìš°, ìë™ìœ¼ë¡œ Viewê°€ ì „í™˜ë˜ì§€ ì•Šë„ë¡ í•˜ì—¬ ë¡œê·¸ì•„ì›ƒì´ë‚˜ íšŒì›íƒˆí‡´ë¥¼ ì‹œë„í•  ìˆ˜ ì—†ë„ë¡ ì¡°ì¹˜í–ˆìŠµë‹ˆë‹¤.
    - ***ê²°ê³¼***
        
        Firebaseì— ë¡œê·¸ì¸ëœ ìƒíƒœë¼ë„ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í† í°ì´ ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ View ì „í™˜ì´ ì´ë£¨ì–´ì§€ì§€ ì•Šë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë¡œê·¸ì•„ì›ƒì´ë‚˜ íšŒì›íƒˆí‡´ë¥¼ ì‹œë„í•˜ëŠ” ê³¼ì •ì—ì„œ ì•±ì´ ë©ˆì¶”ëŠ” ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
        
    
- ë°ì´í„°ì™€ UI ë™ê¸°í™” ì´ìŠˆ
    - ***ë¬¸ì œì ***
        
        ë‹¬ë ¥ë·°ì—ì„œ ê³µë¶€ë°ì´í„°ì™€ ê¸°ìƒë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ìŠ¤íƒ¬í”„ë¥¼ í‘œì‹œí•˜ëŠ” ê³¼ì •ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸°ë„ ì „ì— ìŠ¤íƒ¬í”„ê°€ ë³´ì´ëŠ” ë¬¸ì œê°€ ë°œìƒ.
        
    - ***í•´ê²°ë°©ì•ˆ***
        - DispatchGroupì„ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ê³µë¶€ë°ì´í„°, ê¸°ìƒë°ì´í„°ë¥¼ ê°ê° ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í†µí•´ ë¶ˆëŸ¬ì˜¨ í›„, UIë¥¼ ë³€ê²½í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.
    - ***ê²°ê³¼***
        
        ```swift
        private func setData() {
        
                var studiesData = [study]()
                var wakeupsData = [wakeup]()
                let dispatchGroup = DispatchGroup()
                
                dispatchGroup.enter()
                firestoreManager.readStudyData { result in
                    defer { dispatchGroup.leave() }
                    ...
                }
                
                dispatchGroup.enter()
                firestoreManager.readWakeUpData { result in
                    defer { dispatchGroup.leave() }
        	            ...
                    }
                }
                
                dispatchGroup.notify(queue: .main) {
                    self.studies = studiesData
                    self.wakeups = wakeupsData
                    self.updateData()
                    self.checkUserAlertStatus()
                    self.calendarView.reloadData()
                    self.badgeView.reloadData()
                }
            }
        ```

        
- ëŸ°ì¹˜ ìŠ¤í¬ë¦° ì‚¬ìš© ì‹œ ì¼ì‹œì  Blackout ë°œìƒ
    - ***ë¬¸ì œì ***
        
        ìë™ ë¡œê·¸ì¸ì— ì„±ê³µí•´ ë©”ì¸ í™”ë©´ì„ ë„ìš°ê±°ë‚˜ ë¡œê·¸ì¸ì— ì‹¤íŒ¨í•˜ì—¬ ë¡œê·¸ì¸ í™”ë©´ì„ ë„ìš¸ ë™ì•ˆ ëŸ°ì¹˜ ìŠ¤í¬ë¦°ì„ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ ëª©í‘œì˜€ìœ¼ë‚˜, ë‹¤ìŒ ViewController(ë©”ì¸ í™”ë©´ or ë¡œê·¸ì¸ í™”ë©´)ê°€ ë¡œë“œë ë•Œê¹Œì§€ ëŸ°ì¹˜ ìŠ¤í¬ë¦°ì„ ë„ìš°ì§€ ëª»í•¨. ê²°êµ­ ìë™ ë¡œê·¸ì¸ì„ ì‹ë³„í•˜ëŠ”ë™ì•ˆ Delayê°€ ë°œìƒí•˜ì—¬ BlackOut ë°œìƒ.
        
    - ***í•´ê²°ë°©ì•ˆ***
        
        ê¸°ì¡´ ëŸ°ì¹˜ ìŠ¤í¬ë¦°ì˜ ê¸°ëŠ¥ì´ ì œí•œì ì´ë¼ ëŸ°ì¹˜ ìŠ¤í¬ë¦°ìœ¼ë¡œ ì‚¬ìš©í•  ìƒˆë¡œìš´ Viewë¥¼ ì‘ì„±í•˜ì—¬ `window`ì˜ `rootViewController`ë¥¼ `launchScreenView`ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ íŒë…í•˜ëŠ” ë™ì•ˆ ë„ì›Œì¤„ Viewê°€ ìƒê²¼ìœ¼ë¯€ë¡œ ê¸°ì¡´ì˜ ëŸ°ì¹˜ìŠ¤í¬ë¦° â†’ ë¸”ë™ì•„ì›ƒ â†’ ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¥¸ ë·° ê°€ ì•„ë‹Œ ëŸ°ì¹˜ ìŠ¤í¬ë¦° ë·° â†’ ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¥¸ ë·° ë¡œ íë¦„ì„ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.
        
    - ***ê²°ê³¼***
        
        ```swift
        class SceneDelegate: UIResponder, UIWindowSceneDelegate {
        
            var window: UIWindow?
            var isLogined = false
        
            func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {
                guard let windowScene = (scene as? UIWindowScene) else { return }
        
                let launchScreenView = LaunchScreenView()
        
                // Create a new UIWindow
                let window = UIWindow(windowScene: windowScene)
                window.rootViewController = launchScreenView
                window.makeKeyAndVisible()
                self.window = window
        
                if connectionOptions.notificationResponse == nil {
                    // ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ ë° ì ì ˆí•œ ViewController ì„¤ì •
                    checkLogin()
                }
            }
        }
        
        class LaunchScreenView: UIViewController {
        
            override func viewDidLoad() {
                super.viewDidLoad()
                // ëŸ°ì¹˜ ìŠ¤í¬ë¦° ì½”ë“œ ìƒëµ
            }
        }
        
        extension SceneDelegate {
            
            // MARK: - íŠ¹ì • ViewControllerë¥¼ ìƒì„±í•˜ëŠ” ë©”ì†Œë“œ
            func createViewController(withIdentifier identifier: String) -> UIViewController? {
                if identifier == "AlarmQuestionView" {
                    let data = AlarmCoreDataManager.shared.getAlarmData()
                    let time = data.time
                    let calendar = Calendar.current
                    let currentDate = Date()
                    
                    let components = calendar.dateComponents([.minute], from: time, to: currentDate)
                    if let minuteDifference = components.minute {
                        if data.isRepeatEnabled {
                            for i in 0..<data.repeatCountInt {
                                let intervalTime = time.addingTimeInterval(TimeInterval(data.repeatIntervalMinutes * i * 60))
                                let intervalComponents = calendar.dateComponents([.minute], from: intervalTime, to: currentDate)
                                if let intervalMinuteDifference = intervalComponents.minute, intervalMinuteDifference >= 0, intervalMinuteDifference <= data.repeatIntervalMinutes + 2 {
                                    return AlarmQuestionView()
                                }
                            }
                        } else if minuteDifference >= 0, minuteDifference <= 2 {
                            return AlarmQuestionView()
                        }
                    }
                }
                return nil
            }
        }
        
        extension SceneDelegate {
            
            func checkLogin() {
                print("ë¡œê·¸ì¸ ìœ ì €ì¸ì§€ í™•ì¸")
                if let user = Auth.auth().currentUser {
                    print("currentUserì„")
                    AuthenticationManager.shared.checkEmailVerifiedForLogin { isEmailVerified in
                        if isEmailVerified {
                            self.isLogined = true
                            print("ì• í”Œ ë˜ëŠ” ì´ë©”ì¼ ìë™ ë¡œê·¸ì¸ ì„±ê³µ: \(user.email ?? "")")
                            self.navigateToMainScreen()
                        } else {
                            FirestoreManager.shared.getLoginMethod { loginMethod in
                                if loginMethod == "kakao" {
                                    print("ì¹´ì¹´ì˜¤ ê³„ì • ë¡œê·¸ì¸ ì„±ê³µ")
                                    self.isLogined = true
                                    self.navigateToMainScreen()
                                } else {
                                    print("ì¹´ì¹´ì˜¤ ê³„ì • ë¡œê·¸ì¸ ì‹¤íŒ¨")
                                    self.navigateToLoginScreen()
                                }
                            }
                        }
                    }
                } else {
                    print("ë¡œê·¸ì¸ ë˜ì–´ ìˆì§€ ì•ŠìŒ")
                    self.navigateToLoginScreen()
                }
            }
            
            
            func navigateToMainScreen() {
                let bottomTabBarVC = BottomTabBarViewController()
                if let window = self.window {
                    window.rootViewController = bottomTabBarVC
                    window.makeKeyAndVisible()
                }
            }
            
            func navigateToLoginScreen() {
                let loginvC = LoginViewController()
                let navController = UINavigationController(rootViewController: loginvC)
                if let window = self.window {
                    window.rootViewController = navController
                    window.makeKeyAndVisible()
                }
            }
        }
        
        ```

## 6. ì°¸ì—¬ì

---

[Team 8tTruck](https://www.notion.so/9d9656552e5c4b8cb6dc8820632a06ad?pvs=21)

## 7. ì•ìœ¼ë¡œì˜ ê³„íš

---

- ì‚¬ìš©ìë“¤ ê°„ ê³µë¶€ ì‹œê°„ì˜ ì´ëŸ‰ì„ ë¹„êµí•´ë³¼ ìˆ˜ ìˆëŠ” â€˜ë­í‚¹ê°œë¯¸â€™ ì‹ ê·œ ë¡ ì¹­
- ê³µë¶€íƒ€ì´ë¨¸ ìœ„ì ¯
- ì‹ ê·œ ê°„í¸ ë¡œê·¸ì¸ ë°©ì‹ ì§€ì› (êµ¬ê¸€ ë¡œê·¸ì¸)
- í”„ë¡œí•„ ì´ë¯¸ì§€ ì„œë²„ ì—°ë™
- ì¹´í…Œê³ ë¦¬ë³„ íƒ€ì´ë¨¸ ì—¬ëŸ¬ê°œ ë™ì‘ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„
- ê´‘ê³  ì‚½ì…
- ì„œë²„ë¥¼ êµ¬í˜„í•´ì„œ ì•±ì´ ë°±ê·¸ë¼ìš´ë“œ ìƒíƒœì¼ë•Œ ì†Œë¦¬ê°€ ì¬ìƒë˜ë„ë¡ ì•ŒëŒ ê¸°ëŠ¥ ì—…ê·¸ë ˆì´ë“œ
- ê¸°ìƒ ì•ŒëŒ ë¬¸ì œ ë‹¤ì–‘í™”
